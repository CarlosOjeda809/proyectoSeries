<div class="modal-dialog modal-xl" style="max-width: 95%; margin: 2rem auto;">
  <div class="modal-content">
    <div class="modal-header" style="padding: 1.5rem;">
      <h5 class="modal-title fs-3" id="miModalLabel">
        {{ editar ? titulo.value : 'New Serie' }}
      </h5>
      <button type="button" class="btn-close btn-lg" (click)="activeModal.dismiss()" aria-label="Close"></button>
    </div>
    <div class="modal-body" style="padding: 2rem;">
      <form [formGroup]="formSerie" (ngSubmit)="onSubmit()">
        <div class="row align-items-end mb-4">
          <div class="col-md-4">
            <div class="form-floating">
              <input formControlName="titulo"
                     type="text"
                     class="form-control form-control-lg"
                     id="titulo"
                     placeholder="titulo">
              <label for="titulo">Titulo</label>
            </div>
          </div>
        </div>
        <div class="row align-items-end mb-4">
          <div class="col-md-4">
            <div class="form-floating">
              <input formControlName="numero_capitulos"
                     type="number"
                     class="form-control form-control-lg"
                     id="numero_capitulos"
                     placeholder="Número de Capítulos">
              <label for="numero_capitulos">Capítulos</label>
            </div>
          </div>
          <div class="w-50 col-md-4">
            <div class="form-floating">
              <input formControlName="fecha_emision"
                     type="date"
                     class="form-control form-control-lg"
                     id="fecha_emision"
                     placeholder="Fecha de Emisión">
              <label for="fecha_emision">Emisión</label>
            </div>
          </div>
        </div>
        <div class="row mb-4">
          <div class="col-md-6">
            <div class="row">
              <div class="col-md-8">
                <div class="form-floating mb-3">
                  <input formControlName="poster"
                         type="text"
                         class="form-control form-control-lg"
                         id="poster"
                         placeholder="Poster">
                  <label for="poster">Poster</label>
                </div>
              </div>
              <div class="col-md-4 d-flex align-items-center justify-content-center">
                <img [src]="poster?.value || 'images/fotogenerica.jpg'"
                     class="img-fluid rounded" alt="Poster Preview" style="max-height: 150px;">
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating">
      <textarea formControlName="sinopsis"
                rows="7"
                class="form-control form-control-lg"
                id="sinopsis"
                placeholder="Sinopsis"></textarea>
              <label for="sinopsis">Sinopsis</label>
            </div>
          </div>
        </div>
        <div class="row mb-4">
          <div class="col-12">
            @if (editar) {
              <div>
                <label for="Select" class="form-label fs-5">Genres</label>
                <select class="form-select form-select-lg" id="Select"
                        aria-label="Categorias" multiple
                        formControlName="categorias">
                  @for (categoria of categorias; track $index) {
                    <option [value]="categoria">{{ categoria }}</option>
                  }
                </select>
              </div>
            } @else {
              <div>
                <label for="newSelect" class="form-label fs-5">Genres</label>
                <select class="form-select form-select-lg" id="newSelect"
                        aria-label="Categorias" multiple
                        formControlName="categorias">
                  @for (categoria of categorias; track $index) {
                    <option [value]="categoria">{{ categoria }}</option>
                  }
                </select>
              </div>
            }
          </div>
        </div>
        <div class="row align-items-center mt-4">
          <div class="col-md-10">
            <div [formGroup]="formMyNewCategoria" class="form-floating">
              <input type="text"
                     class="form-control form-control-lg"
                     id="newCategoria"
                     formControlName="newCategoria"
                     placeholder="New Categoria">
              <label for="newCategoria">New Categoria</label>
            </div>
          </div>
          <div class="col-md-2 text-center">
            <h3 class="mb-0">
              <fa-icon [icon]="faPlusCircle" class="pointer text-success"
                       (click)="addNewCategoria(newCategoria.value)" style="margin-left: -100px"></fa-icon>
            </h3>
            <div class="col-md-2 text-center">
              <h3 class="mb-0">
                <fa-icon [icon]="faMinusCircle" class="pointer text-danger"
                         (click)="removeCategoria()"></fa-icon>
              </h3>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer" style="padding: 1.5rem;">
      <button type="button" class="btn btn-secondary btn-lg"
              (click)="activeModal.dismiss()">Close
      </button>
      <button type="submit" class="btn btn-primary btn-lg"
              (click)="onSubmit()">Save changes
      </button>
    </div>
  </div>
</div>
